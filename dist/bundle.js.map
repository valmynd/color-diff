{"version":3,"sources":["webpack:///webpack/bootstrap 28dfe3880c9d7f21524b","webpack:///./lib/index.js","webpack:///./lib/diff.js","webpack:///./lib/convert.js","webpack:///./lib/palette.js"],"names":["print","console","log","closest","target","relative","bc","R","G","B","key","result","furthest","ciede2000","rgb_to_lab","rgba_to_lab","rgb2hex","r","g","b","map","hex","x","toString","length","join","round","Math","max","min","abs","yellow","red","green","blue","smpl","Object","assign","window","lab_to_rgb","map_palette","palette_map_key","overflow256","value","plusminus","d0","d255","rgbRange","begin","radiusR","radiusG","radiusB","step","tolerance","ret","lowerR","upperR","lowerG","upperG","lowerB","upperB","rRG","rRB","rGB","ratioBetween","iR","iG","iB","vRG","vRB","vGB","push","makePalette","n","colors","results","remaining","c","k","best_sum","best_index","i","undefined","sum","j","renderPalette","document","getElementById","firstChild","removeChild","palette","parseInt","div","createElement","appendChild","span","style","backgroundColor","width","height","textContent","onclick","display","onload","form","forms","step1","step2","radiusR1","radiusR2","radiusG1","radiusG2","radiusB1","radiusB2","n1","n2","onchange","e","sqrt","pow","cos","atan2","sin","exp","PI","degrees","radians","color1","color2","L1","L","a1","a","b1","L2","a2","b2","kL","kC","kH","C1","C2","a_C1_C2","a1p","a2p","C1p","C2p","hp_f","y","tmphp","h1p","h2p","dLp","dCp","dhp_f","Error","dhp","dHp","a_L","a_Cp","a_hp_f","a_hp","T","d_ro","RC","SL","SC","SH","RT","A","xyz_to_lab","rgb_to_xyz","xyz_to_rgb","lab_to_xyz","X","Y","Z","ref_Y","ref_Z","ref_X","z","var_Y","var_X","var_Z","_diff","c1","c2","conv_c1","conv_c2","rgba_conv","s","type","idx1","best_color","best_color_diff","idx2","current_color_diff"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 28dfe3880c9d7f21524b","import {ciede2000} from './diff'\nimport {rgb_to_lab, rgba_to_lab, lab_to_rgb} from './convert'\nimport {map_palette, palette_map_key} from './palette'\n\nprint = console.log\n\nfunction closest(target, relative, bc = {R: 255, G: 255, B: 255}) {\n  let key = palette_map_key(target)\n  let result = map_palette([target], relative, 'closest', bc)\n  return result[key]\n}\n\nfunction furthest(target, relative, bc = {R: 255, G: 255, B: 255}) {\n  let key = palette_map_key(target)\n  let result = map_palette([target], relative, 'furthest', bc)\n  return result[key]\n}\n\nexport {\n  ciede2000,\n  rgb_to_lab,\n  rgba_to_lab,\n  closest,\n  furthest\n}\n\n////////////////////\n\nfunction rgb2hex(r, g, b) {\n  return '#' + [r, g, b].map(x => {\n      let hex = x.toString(16)\n      return hex.length === 1 ? '0' + hex : hex\n    }).join('')\n}\n\n////////////////////\n\nlet round = Math.round, max = Math.max, min = Math.min, abs = Math.abs\n\nlet yellow = {R: 255, G: 255, B: 0},\n  red = {R: 255, G: 0, B: 0},\n  green = {R: 0, G: 255, B: 0},\n  blue = {R: 0, G: 0, B: 255},\n  smpl = {R: 255, G: 128, B: 0}\n\nObject.assign(window, {\n  ciede2000,\n  rgb_to_lab,\n  rgba_to_lab,\n  lab_to_rgb,\n  closest,\n  furthest,\n  map_palette,\n  palette_map_key,\n  yellow,\n  red,\n  green,\n  blue\n})\n\nlet overflow256 = (value, plusminus) => {\n  let d0 = value - plusminus,\n    d255 = value + plusminus\n  if (d0 < 0) {\n    return [0, d255 + abs(d0)]\n  } else if (d255 > 255) {\n    return [d0 - (d255 - 255), 255]\n  } else {\n    return [d0, d255]\n  }\n}\n\nwindow.rgbRange = function (begin = red, radiusR = 128, radiusG = 128, radiusB = 128, step = 32, tolerance = 0.7) {\n  let {R, G, B} = begin, ret = [],\n    [lowerR, upperR] = overflow256(R, radiusR / 2),\n    [lowerG, upperG] = overflow256(G, radiusG / 2),\n    [lowerB, upperB] = overflow256(B, radiusB / 2),\n    rRG = max(1, min(R, G)) / max(1, R, G),\n    rRB = max(1, min(G, B)) / max(1, G, B),\n    rGB = max(1, min(R, G)) / max(1, R, G)\n  let ratioBetween = (iR, iG, iB) => {\n    let vRG = max(1, min(iR, iG)) / max(1, iR, iG),\n      vRB = max(1, min(iG, iB)) / max(1, iG, iB),\n      vGB = max(1, min(iR, iG)) / max(1, iR, iG)\n    //print({vRG, vRB, vGB, _inRG: abs(vRG - rRG), inRB: abs(vRB - rRB), inGB: abs(vGB - rGB)})\n    return abs(vRG - rRG) < tolerance && abs(vRB - rRB) < tolerance && abs(vGB - rGB) < tolerance\n  }\n  for (let iR = lowerR; iR <= upperR; iR += step) {\n    for (let iG = lowerG; iG <= upperG; iG += step) {\n      for (let iB = lowerB; iB <= upperB; iB += step) {\n        if (ratioBetween(iR, iG, iB))\n          ret.push({R: iR, G: iG, B: iB})\n      }\n    }\n  }\n  return ret\n}\n\nwindow.makePalette = function (begin = red, n = 60, radiusR = 128, radiusG = 128, radiusB = 128, step = 32, tolerance = 0.7) {\n  let colors = rgbRange(begin, radiusR, radiusG, radiusB, step, tolerance)\n  let ret = [begin], results = [rgb_to_lab(begin)], remaining = colors.map(c => rgb_to_lab(c))\n  for (let k = 0; k < n; k++) {\n    let best_sum = 0, best_index = 0\n    for (let i = 0; i < remaining.length; i++) {\n      if (remaining[i] === undefined) continue\n      let sum = 0\n      for (let j = 0; j < results.length; j++) {\n        sum += ciede2000(remaining[i], results[j])\n      }\n      if (sum > best_sum) {\n        best_sum = sum\n        best_index = i\n      }\n    }\n    results.push(remaining[best_index])\n    ret.push(colors[best_index])\n    delete remaining[best_index]\n  }\n  return ret\n}\n\nfunction renderPalette(step, radiusR, radiusG, radiusB, n) {\n  let target = document.getElementById(\"target\")\n  while (target.firstChild) target.removeChild(target.firstChild)\n  for (let c of [red, blue, yellow, green]) {\n    let palette = makePalette(c, parseInt(n), parseInt(radiusR), parseInt(radiusG), parseInt(radiusB), parseInt(step))\n    let div = document.createElement(\"div\")\n    target.appendChild(div)\n    for (let i = 0; i < palette.length; i++) {\n      let {R, G, B} = palette[i]\n      let span = document.createElement(\"span\")\n      div.appendChild(span)\n      span.style.backgroundColor = \"rgb(\" + [R, G, B].join(\",\") + \")\"\n      //span.style.backgroundColor = rgb2hex(R, G, B)\n      span.style.width = \"100px\"\n      span.style.height = \"100px\"\n      span.textContent = rgb2hex(R, G, B)\n      if(c===red) print(rgb2hex(R, G, B))\n      span.onclick = function () {\n        div.removeChild(span)\n      }\n    }\n    div.style.display = \"flex\"\n  }\n}\n\nwindow.onload = function () {\n  let form = document.forms[0],\n    step1 = form.step1,\n    step2 = form.step2,\n    radiusR1 = form.radiusR1,\n    radiusR2 = form.radiusR2,\n    radiusG1 = form.radiusG1,\n    radiusG2 = form.radiusG2,\n    radiusB1 = form.radiusB1,\n    radiusB2 = form.radiusB2,\n    n1 = form.n1,\n    n2 = form.n2\n  step1.onchange = step2.onchange\n    = radiusR1.onchange = radiusR2.onchange\n    = radiusG1.onchange = radiusG2.onchange\n    = radiusB1.onchange = radiusB2.onchange\n    = n1.onchange = n2.onchange\n    = function (e) {\n    renderPalette(step2.value, radiusR2.value, radiusG2.value, radiusB2.value, n2.value)\n  }\n  renderPalette(step2.value, radiusR2.value, radiusG2.value, radiusB2.value, n2.value)\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","/**\n * @author Markus Ekholm\n * @copyright 2012-2016 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2016, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the author nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nlet sqrt = Math.sqrt, pow = Math.pow, cos = Math.cos, atan2 = Math.atan2,\n  sin = Math.sin, abs = Math.abs, exp = Math.exp, PI = Math.PI\nlet degrees = (n) => n * (180 / PI)\nlet radians = (n) => n * (PI / 180)\n\n/**\n * Returns diff between color1 and color2 using the CIEDE2000 algorithm\n *\n * Implemented as in \"The CIEDE2000 Color-Difference Formula:\n * Implementation Notes, Supplementary Test Data, and Mathematical Observations\"\n * by Gaurav Sharma, Wencheng Wu and Edul N. Dalal.\n * @param {{L,a,b}} color1\n * @param {{L,a,b}} color2\n * @return {float}\n */\nexport function ciede2000(color1, color2) {\n  let {L: L1, a: a1, b: b1} = color1\n  let {L: L2, a: a2, b: b2} = color2\n  let kL = 1, kC = 1, kH = 1 // Weight factors\n  // Step 1: Calculate C1p, C2p, h1p, h2p\n  let C1 = sqrt(pow(a1, 2) + pow(b1, 2)) //(2)\n  let C2 = sqrt(pow(a2, 2) + pow(b2, 2)) //(2)\n  let a_C1_C2 = (C1 + C2) / 2.0 //(3)\n  let G = 0.5 * (1 - sqrt(pow(a_C1_C2, 7.0) / (pow(a_C1_C2, 7.0) + pow(25.0, 7.0)))) //(4)\n  let a1p = (1.0 + G) * a1 //(5)\n  let a2p = (1.0 + G) * a2 //(5)\n  let C1p = sqrt(pow(a1p, 2) + pow(b1, 2)) //(6)\n  let C2p = sqrt(pow(a2p, 2) + pow(b2, 2)) //(6)\n  let hp_f = function (x, y) { //(7)\n    if (x == 0 && y == 0) return 0\n    else {\n      let tmphp = degrees(atan2(x, y))\n      if (tmphp >= 0) return tmphp\n      else return tmphp + 360\n    }\n  }\n  let h1p = hp_f(b1, a1p) //(7)\n  let h2p = hp_f(b2, a2p) //(7)\n  // Step 2: Calculate dLp, dCp, dHp\n  let dLp = L2 - L1 //(8)\n  let dCp = C2p - C1p //(9)\n  let dhp_f = function (C1, C2, h1p, h2p) { //(10)\n    if (C1 * C2 == 0)\n      return 0\n    else if (abs(h2p - h1p) <= 180)\n      return h2p - h1p\n    else if ((h2p - h1p) > 180)\n      return (h2p - h1p) - 360\n    else if ((h2p - h1p) < -180)\n      return (h2p - h1p) + 360\n    else\n      throw(new Error())\n  }\n  let dhp = dhp_f(C1, C2, h1p, h2p) //(10)\n  let dHp = 2 * sqrt(C1p * C2p) * sin(radians(dhp) / 2.0) //(11)\n  // Step 3: Calculate CIEDE2000 Color-Difference\n  let a_L = (L1 + L2) / 2.0 //(12)\n  let a_Cp = (C1p + C2p) / 2.0 //(13)\n  let a_hp_f = function (C1, C2, h1p, h2p) { //(14)\n    if (C1 * C2 == 0)\n      return h1p + h2p\n    else if (abs(h1p - h2p) <= 180)\n      return (h1p + h2p) / 2.0\n    else if ((abs(h1p - h2p) > 180) && ((h1p + h2p) < 360))\n      return (h1p + h2p + 360) / 2.0\n    else if ((abs(h1p - h2p) > 180) && ((h1p + h2p) >= 360))\n      return (h1p + h2p - 360) / 2.0\n    else\n      throw(new Error())\n  }\n  let a_hp = a_hp_f(C1, C2, h1p, h2p) //(14)\n  let T = 1 - 0.17 * cos(radians(a_hp - 30)) + 0.24 * cos(radians(2 * a_hp))\n    + 0.32 * cos(radians(3 * a_hp + 6)) - 0.20 * cos(radians(4 * a_hp - 63)) //(15)\n  let d_ro = 30 * exp(-(pow((a_hp - 275) / 25, 2))) //(16)\n  let RC = sqrt((pow(a_Cp, 7.0)) / (pow(a_Cp, 7.0) + pow(25.0, 7.0)))//(17)\n  let SL = 1 + ((0.015 * pow(a_L - 50, 2)) / sqrt(20 + pow(a_L - 50, 2.0)))//(18)\n  let SC = 1 + 0.045 * a_Cp//(19)\n  let SH = 1 + 0.015 * a_Cp * T//(20)\n  let RT = -2 * RC * sin(radians(2 * d_ro))//(21)\n  return sqrt(pow(dLp / (SL * kL), 2) + pow(dCp / (SC * kC), 2)\n    + pow(dHp / (SH * kH), 2) + RT * (dCp / (SC * kC)) * (dHp / (SH * kH))) //(22)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/diff.js","/**\n * @author Markus Ekholm\n * @copyright 2012-2016 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2016, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the author nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nlet pow = Math.pow\n\n/**\n * Returns c converted to CIE-Lab\n * Uses bc as background color.\n * Defaults to using white as background color.\n * @param {{R,G,B,A}} c\n * @param {{R,G,B}} [bc]\n * @return {{L,a,b}}\n */\nexport function rgba_to_lab(c, bc = {R: 255, G: 255, B: 255}) {\n  return rgb_to_lab({\n    R: bc.R + (c.R - bc.R) * c.A,\n    G: bc.G + (c.G - bc.G) * c.A,\n    B: bc.B + (c.B - bc.B) * c.A\n  })\n}\n\n/**\n * Returns c converted to CIE-Lab\n * @param {{R,G,B}} c\n * @return {{L,a,b}}\n */\nexport function rgb_to_lab(c) {\n  return xyz_to_lab(rgb_to_xyz(c))\n}\n\n/**\n * Returns c converted to RGB\n * @param {{L,a,b}} c\n * @return {{R,G,B}}\n */\nexport function lab_to_rgb(c) {\n  return xyz_to_rgb(lab_to_xyz(c))\n}\n\n/**\n * Returns c converted to XYZ\n * @param {{R,G,B}} c\n * @return {{X,Y,Z}}\n */\nfunction rgb_to_xyz(c) {\n  // Based on http://www.easyrgb.com/index.php?X=MATH&H=02\n  let R = (c.R / 255),\n    G = (c.G / 255),\n    B = (c.B / 255)\n  if (R > 0.04045)\n    R = pow(((R + 0.055) / 1.055), 2.4)\n  else\n    R = R / 12.92\n  if (G > 0.04045)\n    G = pow(((G + 0.055) / 1.055), 2.4)\n  else\n    G = G / 12.92\n  if (B > 0.04045)\n    B = pow(((B + 0.055) / 1.055), 2.4)\n  else\n    B = B / 12.92\n  R *= 100\n  G *= 100\n  B *= 100\n  // Observer. = 2°, Illuminant = D65\n  let X = R * 0.4124 + G * 0.3576 + B * 0.1805\n  let Y = R * 0.2126 + G * 0.7152 + B * 0.0722\n  let Z = R * 0.0193 + G * 0.1192 + B * 0.9505\n  return {X, Y, Z}\n}\n\n/**\n * Returns c converted to CIE-Lab\n * @param {{X,Y,Z}} c\n * @return {{L,a,b}}\n */\nfunction xyz_to_lab(c) {\n  // Based on http://www.easyrgb.com/index.php?X=MATH&H=07\n  let ref_Y = 100.000\n  let ref_Z = 108.883\n  let ref_X = 95.047 // Observer= 2°, Illuminant= D65\n  let Y = c.Y / ref_Y\n  let Z = c.Z / ref_Z\n  let X = c.X / ref_X\n  if (X > 0.008856)\n    X = pow(X, 1 / 3)\n  else\n    X = (7.787 * X) + (16 / 116)\n  if (Y > 0.008856)\n    Y = pow(Y, 1 / 3)\n  else\n    Y = (7.787 * Y) + (16 / 116)\n  if (Z > 0.008856)\n    Z = pow(Z, 1 / 3)\n  else\n    Z = (7.787 * Z) + (16 / 116)\n  let L = (116 * Y) - 16\n  let a = 500 * (X - Y)\n  let b = 200 * (Y - Z)\n  return {L, a, b}\n}\n\n/**\n * Returns c converted to RGB\n *\n * FIXME: doesn't work quite right yet\n *\n * @param {{X,Y,Z}} c\n * @return {{R,G,B}}\n */\nfunction xyz_to_rgb(c) {\n  // based on http://www.easyrgb.com/index.php?X=MATH&H=01\n  let x = c.X / 100, // X from 0 to  95.047      (Observer = 2°, Illuminant = D65)\n    y = c.Y / 100,   // Y from 0 to 100.000\n    z = c.Z / 100    // Z from 0 to 108.883\n  let r = x * 3.2406 + y * -1.5372 + z * -0.4986\n  let g = x * -0.9689 + y * 1.8758 + z * 0.0415\n  let b = x * 0.0557 + y * -0.2040 + z * 1.0570\n  if (r > 0.0031308)\n    r = 1.055 * ( r ^ ( 1 / 2.4 ) ) - 0.055\n  else\n    r = 12.92 * r\n  if (g > 0.0031308)\n    g = 1.055 * ( g ^ ( 1 / 2.4 ) ) - 0.055\n  else\n    g = 12.92 * g\n  if (b > 0.0031308)\n    b = 1.055 * ( b ^ ( 1 / 2.4 ) ) - 0.055\n  else\n    b = 12.92 * b\n  return {R: r * 255, G: g * 255, B: b * 255}\n}\n\n\n/**\n * Returns c converted to XYZ\n *\n * FIXME: doesn't work quite right yet\n *\n * @param {{L,a,b}} c\n * @return {{X,Y,Z}}\n */\nfunction lab_to_xyz(c) {\n  // Based on http://www.easyrgb.com/index.php?X=MATH&H=08\n  let var_Y = ( c.L + 16 ) / 116,\n    var_X = c.a / 500 + var_Y,\n    var_Z = var_Y - c.b / 200\n\n  if (var_Y ^ 3 > 0.008856)\n    var_Y = var_Y ^ 3\n  else\n    var_Y = ( var_Y - 16 / 116 ) / 7.787\n  if (var_X ^ 3 > 0.008856)\n    var_X = var_X ^ 3\n  else\n    var_X = ( var_X - 16 / 116 ) / 7.787\n  if (var_Z ^ 3 > 0.008856)\n    var_Z = var_Z ^ 3\n  else\n    var_Z = ( var_Z - 16 / 116 ) / 7.787\n\n  let X = 95.047 * var_X     //ref_X =  95.047     Observer= 2°, Illuminant= D65\n  let Y = 100.000 * var_Y    //ref_Y = 100.000\n  let Z = 108.883 * var_Z    //ref_Z = 108.883\n  return {X, Y, Z}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/convert.js","/**\n * @author Markus Ekholm\n * @copyright 2012-2016 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2016, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the author nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport {ciede2000} from './diff'\nimport {rgb_to_lab, rgba_to_lab} from './convert'\n\nfunction _diff(c1, c2, bc) { // internal\n  let conv_c1 = rgb_to_lab\n  let conv_c2 = rgb_to_lab\n  let rgba_conv = function (x) {\n    return rgba_to_lab(x, bc)\n  }\n  if (\"A\" in c1) conv_c1 = rgba_conv\n  if (\"A\" in c2) conv_c2 = rgba_conv\n  c1 = conv_c1(c1)\n  c2 = conv_c2(c2)\n  return ciede2000(c1, c2)\n}\n\n/**\n * Returns the hash key used for a {rgbcolor} in a {palettemap}\n * @param {{R,G,B,[A]}} c\n * @return {string}\n */\nexport function palette_map_key(c) {\n  let s = \"R\" + c.R + \"B\" + c.B + \"G\" + c.G\n  if (\"A\" in c) s = s + \"A\" + c.A\n  return s\n}\n\n/**\n * Returns a mapping from each color in a to the closest color in b\n * @param {{R,G,B}[]} a each element should have fields R,G,B\n * @param {{R,G,B}[]} b each element should have fields R,G,B\n * @param {{R,G,B}} [bc] background color when using alpha channels\n * @param {string} type should be the string 'closest' or 'furthest'\n * @return {Object} palettemap\n */\nexport function map_palette(a, b, type = 'closest', bc = {R: 255, G: 255, B: 255}) {\n  let c = {}\n  for (let idx1 = 0; idx1 < a.length; idx1 += 1) {\n    let color1 = a[idx1]\n    let best_color = undefined\n    let best_color_diff = undefined\n    for (let idx2 = 0; idx2 < b.length; idx2 += 1) {\n      let color2 = b[idx2]\n      let current_color_diff = _diff(color1, color2, bc)\n\n      if ((best_color == undefined) || ((type === 'closest') && (current_color_diff < best_color_diff))) {\n        best_color = color2\n        best_color_diff = current_color_diff\n        continue\n      }\n      if ((type === 'furthest') && (current_color_diff > best_color_diff)) {\n        best_color = color2\n        best_color_diff = current_color_diff\n        continue\n      }\n    }\n    c[palette_map_key(color1)] = best_color\n  }\n  return c\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/palette.js"],"sourceRoot":""}